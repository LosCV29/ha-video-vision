analyze_camera:
  name: Analyze Camera
  description: Record video from camera and analyze with AI vision.
  fields:
    camera:
      name: Camera
      description: Camera name or alias to analyze
      required: true
      example: "driveway"
      selector:
        text:
    duration:
      name: Duration
      description: Recording duration in seconds
      required: false
      default: 3
      selector:
        number:
          min: 1
          max: 10
          step: 1
          unit_of_measurement: seconds
    user_query:
      name: Prompt
      description: Custom prompt for the AI analysis
      required: false
      example: "Describe what you see. Only state what is visible."
      selector:
        text:
          multiline: true
    facial_recognition:
      name: Facial Recognition
      description: Enable facial recognition for this analysis. Analyzes the ENTIRE video against all reference photos for better accuracy.
      required: false
      default: false
      selector:
        boolean:
    remember:
      name: Save to Timeline
      description: Save this analysis to the Timeline calendar for historical tracking. View in Calendar panel or dashboard.
      required: false
      default: false
      selector:
        boolean:
    frame_position:
      name: Notification Frame Position
      description: Which frame from the video to use for the notification image (0-100%). 0% = first frame, 50% = middle, 100% = last frame.
      required: false
      selector:
        number:
          min: 0
          max: 100
          step: 10
          unit_of_measurement: "%"
    max_tokens:
      name: Max Response Tokens
      description: Override the max tokens for this analysis (useful for verbose responses)
      required: false
      selector:
        number:
          min: 50
          max: 1000
          step: 50
    system_prompt:
      name: System Prompt
      description: Override the system prompt that controls LLM behavior and response style. Leave empty for the built-in default. Camera context is still appended automatically.
      required: false
      default: ""
      selector:
        text:
          multiline: true

record_clip:
  name: Record Clip
  description: Record a video clip from camera without analysis.
  fields:
    camera:
      name: Camera
      description: Camera name or alias to record from
      required: true
      example: "porch"
      selector:
        text:
    duration:
      name: Duration
      description: Recording duration in seconds
      required: false
      default: 3
      selector:
        number:
          min: 1
          max: 10
          step: 1
          unit_of_measurement: seconds

identify_faces:
  name: Identify Faces
  description: Identify faces in an image using LLM-based comparison against reference photos in /config/camera_faces/. For video-based recognition, use the facial_recognition option in analyze_camera instead.
  fields:
    image_path:
      name: Image Path
      description: Path to the image file (e.g., from analyze_camera snapshot_path)
      required: true
      example: "/media/ha_video_vision/driveway_latest.jpg"
      selector:
        text:

